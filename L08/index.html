<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="../vue.min.js"></script>
    <title>L08</title>
</head>

<body>
    <h3>watch</h3>
    <div>vue的观察（监听）属性</div>
    <div id="myApp">
        今年3月3日发卖的任天堂新一代主机Switch的价格是：{{price}}円,含税价格为：{{priceInTax}}円,折合人民币为:{{priceChinaRMB}}元.
        <button @click="btnClick(10000)">加价10000円</button>
    </div>
    <script>
        let myApp = new Vue({
            el: '#myApp',
            data: {
                price: 29980,
                priceInTax: 0,
                priceChinaRMB: 0
            },
            watch: {
                price(newVal, oldVal) {
                    console.log(newVal, oldVal)
                    this.priceInTax = Math.round(this.price * 1.08)
                    this.priceChinaRMB = Math.round(this.priceInTax / 16.75)
                }
            },
            methods: {
                btnClick(newPrice) {
                    this.price += newPrice
                }
            }
        })

        // myApp = 30000
    </script>
</body>

</html>